<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="Wtc0-h1PpIr0fb3MNAyzD-15NdVy9rAaneiAPLEGHAM" />
    <link href='https://fonts.googleapis.com/css?family=Lemonada' rel='stylesheet'>
    <title> To-Do List </title>
    <link rel="stylesheet" href="styles/main.css">
    <script type="module"> 
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getAuth, signOut, onAuthStateChanged, connectAuthEmulator } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";   
      import { getFirestore, collection, doc, addDoc, query, where, orderBy, getDocs, updateDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
      const firebaseConfig = 
      {
apiKey: "AIzaSyCTtgVoRDC4K1T-Hj87FDOjuvHaMH5irHk",
authDomain: "todolist-80334.firebaseapp.com",
projectId: "todolist-80334",
storageBucket: "todolist-80334.appspot.com",
messagingSenderId: "1033852333400",
appId: "1:1033852333400:web:a8597da22a7376bd2c092d"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

    window.firebaseAuth = auth;
    window.onAuthStateChanged = onAuthStateChanged;
    window.signOut = signOut;
    window.firestoreDB = db;
    window.collection = collection;
    window.query = query;
    window.orderBy = orderBy;
    window.getDocs = getDocs;
    window.addDoc = addDoc;
    window.doc = doc;
    window.where = where;
    window.updateDoc = updateDoc;
    window.deleteDoc = deleteDoc;
    console.log("Firebase initialized and functions set globally");
  </script>
  <script type="module" src="Scripts/index.js" defer> </script>
</head>
<body>
  <section id="signedout" hidden>
    <div class="menu">
      <a href="login.html" id="login" name="login">Login</a>
      <a href="signup.html" id="signup" name="signup">Signup</a>
      <a href="about.html" id="about" name="about">About</a>
    </div>
    <div class="backgrd1">
      <br>
      <a href="index.html"><img src="images/icon.jpg" alt="Logo"></a>
      <br>
      <div class="wrapper">
        <input type="text" id="Box1" name="Box1" placeholder="Add a Task">
        <button id="addTask" type="submit"><b>ADD</b></button>
      </div>
    </div>
    <br>
    <div class="priority">
      <p>Choose priority</p>
      <select name="pri1" id="pri1" multiple>
        <option id="low1" value="low1">Low</option>
        <option id= "medium1" value="medium1">Medium</option>
        <option id="high1" value="high1">High</option>
      </select>
    </div>
    <br>
    <div class="tasks">
      <p class="topic">Tasks</p>
      <ul id="taskList" class="check"></ul>
      <p class="warn" id="taskWarn">Please sign up or login to add tasks.</p>
    </div>
  </section>

  <section id="signedin" hidden>
    <div class="sgnoutdiv">
      <button id="signout" name="signout" class="sgnout">Sign Out</button>
    </div>
    <div class="menu1">
      <p>Hello, user</p>
    </div>
    <div class="backgrd1">
      <br>
      <a href="index.html"><img src="images/icon.jpg" alt="Logo"></a>
      <br>
      <div class="wrapper">
        <input type="text" id="Box" name="Box" placeholder="Add a Task">
        <button id="addTask" type="button"><b>ADD</b></button>
      </div>
    </div>
    <br>
    <div class="priority">
      <p>Choose priority</p>
      <select name="pri" id="pri" multiple>
        <option id="low" value="low">Low</option>
        <option id="medium" value="medium">Medium</option>
        <option id="high" value="high">High</option>
      </select>
    </div>
    <br>
    <div class="tasks">
      <p class="topic">Tasks</p>
      <ul id="taskList" class="check"></ul>
    </div>
  </section>
</body>
</html>